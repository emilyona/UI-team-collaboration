<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>yt:Spherical Volume Rendering</title>

  <!-- Bootstrap core CSS -->
{% block head %}
<link rel="stylesheet" href="{{url_for('.static', filename='../static/vendor/bootstrap/css/bootstrap.min.css')}}">


  <!-- Custom fonts for this template -->
<link rel="stylesheet" href="{{url_for('.static', filename='../static/vendor/fontawesome-free/css/all.min.css')}}">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- Custom styles for this template -->
    <link rel="stylesheet" href="{{url_for('.static', filename='../static/css/clean-blog.min.css')}}">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>


<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js" integrity="sha384-s1ITto93iSMDxlp/79qhWHi+LsIi9Gx6yL+cOKDuymvihkfol83TYbLbOw+W/wv4" crossorigin="anonymous"></script>
    {% endblock %}
</head>

<body>

  <!-- Navigation -->
  <!--<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav" style="background-color:rgba(0, 0, 0, 0.5)">
    <div class="container">
      <a class="navbar-brand" href="{{ url_for('index') }}" >Spherical Volume Rendering</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </nav>-->

  <!-- Page Header -->
  <header class="masthead" style="background-image: url('../static/img/yt_logo.png');">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="site-heading">
            <h1>Spherical Volume Rendering Interface</h1>
            <span class="subheading">A web interface for data exploration and visualization of physical data that comes from non-cartesian grids</span>
          </div>
        </div>
      </div>
    </div>
    
  </header>

  <!-- Main Content -->
  <div class="container">
    <div class="row">
       
       
      <div class="col-lg-8 col-md-10 mx-auto">
         <h2 class="post-title">
              Start drawing
          </h2>
          <br>
         <div class="btn-group btn-group-justified">
  <div class="btn-group">
          <button type="button" class="btn btn-outline-danger active">Red Channel</button>
  </div>
  <div class="btn-group">
          <button type="button" class="btn btn-outline-success">Green Channel</button>
  </div>
  <div class="btn-group">
              <button type="button" class="btn btn-outline-primary">Blue Channel</button></div>
  </div>
</div> 
        

              <div class="col-lg-12 col-md-12 mx-auto" style="height: 500px">

        <div class="post-preview" style="height:500px">
                   
          
            <div id="chartContainer" style="height: 200px; width: 100%;"></div>

                 
        </div>
      </div>
                    <div class="col-lg-12 mx-auto" >

                        <button class="btn btn-default  float-right" onclick="submit()">Submit</button>

                   <button class="btn btn-default float-right " id="clear">Clear</button>
      </div>
    </div></div>
        
      <!-- second/third containers
     <div class="container">
    <div class="row">
         
      <div class="col-lg-8 col-md-10 mx-auto">
          
        <div class="post-preview" style="height: 300px">
                   
          
            <div id="chartContainer1" style="width: 100%;">
    </div>
        </div>
        </div>
      </div></div>
    
      <div class="container">
    <div class="row">
      
      <div class="col-lg-8 col-md-10 mx-auto">
          
        <div class="post-preview" style="height: 300px">
                   
          
            <div id="chartContainer2" style="height: 300px; width: 100%;">
    </div>
        </div>
        </div>
      </div></div>
        
  <hr>-->
    <!-- Footer -->
  
    <div class="container" id="result" style="display: none; height: 500px">
         <hr>
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
            <h2 class="post-title">
             Color Transfer Function Results
            </h2>
            
        <img class="img-fluid" src="../static/img/result.png" style="height: 300px; width: 100%;">
        </div>
      </div>
    </div>
  <hr>
  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item">
              <a href="#">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
        
            <li class="list-inline-item">
              <a href="https://github.com/yt-project">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          </ul>
          <p class="copyright text-muted">Copyright &copy; Your Website 2019</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
    <script rel="text/javascript" href="{{url_for('.static', filename='../static/vendor/jquery/jquery.min.js')}}"></script>
<script rel="text/javascript" href="{{url_for('.static', filename='../static/vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>


  <!-- Custom scripts for this template -->
<script type="text/javascript" src="{{url_for('.static', filename='../static/js/script.js')}}"></script>
<script>
    
chart_title = "Put title here!"

chart_type = 'line'
titleX = "Axis X title"
titleY = "Axis Y title"
window.onload = function () 
{
    

 data = []
for (i = 1; i < 257; i++) {
    j=0;
    while (j<1) {
      obj = {x:i , y:j}
    //change najat how much increamnt?    
      j= j+0.1;        
      data.push(obj)
    } 
}
  //  console.log(data)
   
    
redChart = new CanvasJS.Chart("chartContainer",
	{height:460,
	
		data: [
		{
			type: 'spline',
            //najat
			//mousemove: onMouseover,
			dataPoints: data,
            color:'transparent',
            markerSize:10,
            cursor: "pointer"
            //markerColor:"green"
		},
        {
			type: "spline",
            //najat
			//dataPoints: redArray,
            dataPoints:[{x:0 , y:0.2},{x:50 , y:0.5},{x:100 , y:0.1},{x:150 , y:0.2},{x:200 , y:0.4},{x:256 , y:0.2}],
            color:'red',
            markerSize:5,
            markerType: "none"
		}
		],
		axisX:{
        title: titleX,
        titleFontSize:14,
           interval:1,
           labelMaxWidth: 180,           
           labelFontSize: 10,
           labelWrap: true,
           labelAngle: 270,
            minimum: 0,
            maximum: 256,
            interval:5
        },
		axisY:{
        title:"Value",
        titleFontSize:14,
        labelFontSize: 10,
        //change najat how much increamnt?    
        interval: 0.1,
        minimum: 0,
        maximum: 1,
        }
	});
	redChart.render();

function onMouseover(e) {
        str = {x:e.dataPoint.x , y:e.dataPoint.y}
        redArray.push(str)
    
    redChart.render();
    }

document.getElementById("clear").addEventListener("click", function(){
       redArray = []
       redChart.options.data[1].dataPoints =  redArray
	   redChart.render();
    	
    });
}

//variable delcartion
var redChart ;
redArray = []
greenArray =[]
blueArray = [] 


function submit(){
    redValues= new Array(256).fill(0);
    greenValues= new Array(256).fill(0);
    blueValues= new Array(256).fill(0);
    
    //console.log(add)
    for (ind = 0 ; ind < redArray.length; ind++)    
    { 
    index = redArray[ind]['x']
    value = redArray[ind]['y']
    redValues[index]= value;
    /*index = greenArray[ind]['x']
    value = greenArray[ind]['y']
    greenValues[index]= value;
    index = blueArray[ind]['x']
    value = blueArray[ind]['y']
    blueValues[index]= value;*/
    }
    console.log(redValues)
    
    $.getJSON('/background_process', {
				  redValues: JSON.stringify(redValues),
				}, function(data) {
        // returned from the server
        document.getElementById("result").style.display = "block";
        location.href = "#result";
				  console.log(data.result)
				});
}    
//end chart
    
   
 
    
  
  
</script>

</body>

</html>
